<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{Master/MFrame}">
<head>
    <title>Assign Asset</title>
    <style>
        .assign-asset-content {
            font-family: Arial, sans-serif;
            max-width: 70vw;
            margin: 0 auto;
            border-radius: 6px;
            padding: 20px;
            background-color: #e3dddd;
            position: relative;
        }

        .assign-asset-content h2 {
            color: #333;
            text-align: center;
            margin-bottom: 20px;
        }

        .assign-asset-form {
            background-color: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .assign-asset-content label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }

        .assign-asset-form select {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 16px;
        }

        .assign-asset-content button {
            background-color: #4CAF50;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }

        .assign-asset-content button:hover {
            background-color: #45a049;
        }

        .form-submit-btn {
            width: 100%;
        }

        .top-add-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            width: auto;
            background-color: #2196F3;
        }

        .top-add-btn:hover {
            background-color: #0b7dda;
        }

        .alert {
            padding: 15px;
            margin-top: 20px;
            border-radius: 4px;
        }

        .alert-success {
            background-color: #dff0d8;
            color: #3c763d;
            border: 1px solid #d6e9c6;
        }

        .alert-danger {
            background-color: #f2dede;
            color: #a94442;
            border: 1px solid #ebccd1;
            text-align: center;
        }
    </style>
</head>
<body>
<section layout:fragment="content">
    <div class="assign-asset-content">
        <h2>Assign Asset to Employee</h2>

        <!-- Add button at top right -->
        <button class="top-add-btn" onclick="window.location.href='/showall'">View All BarCodes</button>

        <form th:action="@{/assignAsset}" method="post" class="assign-asset-form">
            <label for="empId">Select Employee:</label>
            <select name="empId" id="empId" required>
                <option value="">-- Select Employee --</option>
                <option th:each="emp : ${employees}"
                        th:value="${emp.empId}"
                        th:text="${emp.firstName} + ' ' + ${emp.lastName} + ' (' + ${emp.empId} + ')'">
                </option>
            </select>

            <label for="assetId">Select Asset:</label>
            <select name="assetId" id="assetId" required>
                <option value="">-- Select Asset --</option>
                <option th:each="asset : ${assets}"
                        th:value="${asset.assetId}"
                        th:text="${asset.assetName} + ' (' + ${asset.assetId} + ')'">
                </option>
            </select>

            <button type="submit" class="form-submit-btn">Generate Barcode & Assign</button>
        </form>

        <div th:if="${success}" class="alert alert-success" th:text="${success}"></div>
        <div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>
    </div>
</section>
</body>
</html>